!function(){"use strict";var e={d:function(t,i){for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return o}});var i=Object.freeze({ABBR:"abbreviation",ADDR:"address",ADR1:"address1",ADR2:"address2",ADR3:"address3",ADOP:"adoption",AFN:"ancestralFileNumber",AGE:"ageAtEvent",AGNC:"responsibleAgency",ALIA:"alias",ANCE:"ancestors",ANCI:"ancestorInterest",ANUL:"annulment",ASSO:"associates",AUTH:"author",BAPL:"baptismLDS",BAPM:"baptism",BARM:"barMitzvah",BASM:"basMitzvah",BIRT:"birth",BLES:"blessing",BLOB:"binaryObject",BURI:"burial",CALN:"callNumber",CAST:"caste",CAUS:"cause",CENS:"census",CHAN:"change",CHAR:"character",CHIL:"child",CHR:"christening",CHRA:"adultChristening",CITY:"city",CONC:"concatenation",CONF:"confirmation",CONL:"confirmationLDS",CONT:"continued",COPR:"copyright",CORP:"corporate",CREA:"creation",CREM:"cremation",CROP:"crop",CTRY:"country",DATA:"data",DATE:"date",DEAT:"death",DESC:"descendants",DESI:"descendantInterest",DEST:"destination",DIV:"divorce",DIVF:"divorceFiling",DSCR:"physicalDescription",EDUC:"education",EMAIL:"email",EMIG:"emigration",ENDL:"endowment",ENGA:"engagement",EVEN:"event",EXID:"externalIdentifier",FACT:"fact",FAM:"family",FAMC:"familyChild",FAMF:"familyFile",FAMS:"familySpouse",FAX:"facsimile",FCOM:"firstCommunion",FILE:"file",FORM:"format",GEDC:"gedcom",GIVN:"givenName",GRAD:"graduation",HEAD:"header",HEIGHT:"heightInPixels",HUSB:"husband",IDNO:"identificationNumber",IMMI:"immigration",INDI:"individual",INIL:"initiatoryLatterDay",LANG:"language",LEFT:"leftCropWidth",LEGA:"legatee",LATI:"lat",LONG:"lng",MAP:"map",MARB:"marriageBans",MARC:"marriageContract",MARL:"marriageLicense",MARR:"marriage",MARS:"marriageSettlement",MEDI:"medium",MIME:"mediaType",NAME:"name",NATI:"nationality",NATU:"naturalization",NCHI:"childrenNumber",NICK:"nickname",NMR:"marriageCount",NO:"didNotHappen",NOTE:"note",NPFX:"namePrefix",NSFX:"nameSuffix",OBJE:"object",OCCU:"occupation",ORDI:"ordinance",ORDN:"ordination",PAGE:"page",PEDI:"pedigree",PHON:"phone",PHRASE:"phrase",PLAC:"place",POST:"postalCode",PROB:"probate",PROP:"property",PUBL:"publication",QUAY:"quality",REFN:"reference",RELA:"relationship",RELI:"religion",REPO:"repository",RESI:"residence",RESN:"restriction",RETI:"retirement",RFN:"recordFileNumber",RIN:"recordIdNumber",ROLE:"role",SCHMA:"schema",SDATE:"sortDate",SEX:"sex",SLGC:"sealingChild",SLGS:"sealingSpouse",SNOTE:"sharedNote",SOUR:"source",SPFX:"surnamePrefix",SSN:"socialSecurityNumber",STAE:"state",STAT:"status",SUBM:"submiter",SUBN:"submission",SURN:"surname",TAG:"tag",TEMP:"temple",TEXT:"text",TIME:"time",TITL:"title",TOP:"topCropWidth",TRAN:"translation",TRLR:"trailer",TYPE:"type",UID:"uniqueIdentifier",VERS:"version",WIDTH:"widthInPixel",WIFE:"wife",WILL:"will",WWW:"webAddress"});function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._head={},this._submitters={},this._individuals={},this._families={},this._notes={},this._sources={},this._repositories={},this._objects={},this._events={},this._places={},this._gedcom=null},(t=[{key:"parseGedcom",value:function(e){this._gedcom=e.replace(/[\r]+/g,"");for(var t=this._gedcom.split("\n"),i=0;i<t.length;++i)"0"===t[i].split(" ")[0]&&(i=this._newTopItem(t,i));console.log(this)}},{key:"_newTopItem",value:function(e,t){var i=e[t].split(" "),r=this.__getNextElementIndex(e,t,"0"),n=this.__extractItemValuesFromLines(e,1,t,r);if("HEAD"===i[1])this._head=n;else if("SUBM"===i[2])this._submitters=n;else if("INDI"===i[2])this._individuals["".concat(i[1].replaceAll("@",""))]=n;else if("FAM"===i[2])this._families["".concat(i[1].replaceAll("@",""))]=n;else if("NOTE"===i[2])this._notes["".concat(i[1].replaceAll("@",""))]=n;else if("SOUR"===i[2])this._sources["".concat(i[1].replaceAll("@",""))]=n;else if("REPO"===i[2])this._repositories["".concat(i[1].replaceAll("@",""))]=n;else if("OBJE"===i[2])this._objects["".concat(i[1].replaceAll("@",""))]=n;else if("TRLR"===i[1])return e.length;return r-1}},{key:"__getNextElementIndex",value:function(e,t,i){for(var r=t+1;r<e.length;++r){var n=e[r].split(" ");if(parseInt(n[0])<parseInt(i))return r-1;if(n[0]===i)return r}return t}},{key:"__extractItemValuesFromLines",value:function(e,t,r,n){for(var a=[],o=r;o<n;++o)parseInt(e[o].split(" ")[0])===t&&a.push(o);a[a.length-1]!==n&&a.push(n);for(var s={},l=0;l<a.length-1;++l){var c=e[a[l]],u=c.split(" ")[1],m=i[u],d=c.split("".concat(u," "))[1];void 0===m&&console.log(u,l),a[l+1]-a[l]==1||void 0===a[l+1]?this.__setItemValue(s,m,d):(s[m]={},void 0!==d&&(s[m][m]=d),Object.assign(s[m],this.__extractItemValuesFromLines(e,t+1,a[l],a[l+1])))}return s}},{key:"__setItemValue",value:function(e,t,i){if(void 0===e[t])e[t]=i;else if(Array.isArray(e[t]))e[t].push(i);else{var r=e[t];e[t]=[r,i]}}},{key:"exportGedcom",value:function(){this._gedcom}}])&&n(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();window.JsGEDCOM=t.default}();